<html>
<script src='https://d3js.org/d3.v5.min.js'></script>
<h1>Dog Breed Statistics</h1>
<h3>What dog breed is right for you?</h3>
<hr>
<p class="wg">Working Groups</p>
<p class="slide">Slides</p>
<style>
    rect {fill: lightblue; stroke: black; }
    p.wg { position: absolute; left: 150px; top: 150px; }
    p.slide { position: absolute; left: 5px; top: 100px; }
    select { position: absolute; left: 150px; top: 190px; }
    /*div.wg { position: absolute; left: 150px; top: 175px; }*/
    div.slide { position: absolute; left: 5px; top: 135px; }
</style>
<select id="selectButton">
<!--    <option>All working groups</option>-->
</select>
<!--<div class="wg">-->
<!--    <button type="button">All</button>-->
<!--    <button type="button">Herding</button>-->
<!--    <button type="button">Hound</button>-->
<!--    <button type="button">Non-Sporting</button>-->
<!--    <button type="button">Southern</button>-->
<!--    <button type="button">Sporting</button>-->
<!--    <button type="button">Terrier</button>-->
<!--    <button type="button">Toy</button>-->
<!--    <button type="button">Working</button>-->
<!--</div>-->

<div class="slide">
    <button type="button">1</button>
    <button type="button">2</button>
    <button type="button">3</button>
    <button type="button">4</button>
</div>
<body>
<svg width=10000 height=1500 ></svg>
<script>
async function init() {
data = await d3.csv("pet_characteristics.csv");
var x = d3.scaleBand().rangeRound([0, 5000]).padding(.1).domain(data.map(function(d) { return d.BreedName; }))
var y = d3.scaleLinear().range([500,0]).domain([0, d3.max(data, function(d) { return d.MaleWtKg; })]);
var h = d3.scaleLinear().domain([0,1500]).range([0,500]);
var w = x.bandwidth();

for (var i = 0; i < data.length; i++) {
    console.log(data[i].BreedName)
    console.log(data[i].MaleWtKg);
}

// working group drop down
d3.select('select')
    .selectAll('groups')
    .data(d3.map(data, function(d){ return d.Group1; }).keys())
    .enter()
    .append('option')
    .text(function (d) { return d; })
    .property("selected", function(d){ return d === ''; }); //set default working group to '' (all working groups)

//tooltip
// var tooltip = d3.select('svg')
//     .append('div')
//     .style('opacity', 0)
//     .attr('class', 'tooltip')
//     .style('background-color', 'white')
//     .style('border', 'solid')
//     .style('border-width', '1px')
//     .style('border-radius', '5px')
//     .style('padding', '10px')
// var mouseover = function(d) {
//     tooltip.style("opacity", 1)
//   }
// var mousemove = function(d,i) {
//     tooltip
//       .html("this is a tooltip")
//       .style("left", (d3.mouse(this)[0]+90) + "px")
//       .style("top", (d3.mouse(this)[1]+90) + "px")
//   }
// var mouseleave = function(d) {
//     tooltip.transition()
//       .duration(200)
//       .style("opacity", 0)
//   }


d3.select('svg')
    .append('g')
    .attr('transform','translate(350,75)')
    .selectAll('rect')
    .data(data)
    .enter()
    .append('rect')
    .attr("x", function(d) { return x(d.BreedName); })
    .attr('y',function(d) {return y(d.MaleWtKg);})
    // .attr('width', w)
    // .attr('height',function(d) {return h(d.MaleWtKg);})
    ;
    // .append('title')
    // .text((d) => `Average male weight in kg for ${d.BreedName} is ${d.MaleWtKg}`);
    // .on('mouseover', tip.show)
    // .on('mouseout', tip.hide)

d3.select('svg')
    .append('g')
    .attr('transform','translate(350,75)')
    .call(d3.axisLeft(y));
d3.select('svg')
    .append('g')
    .attr('transform','translate(350,575)')
    .call(d3.axisBottom(x))
    .selectAll('text')
    .attr("y", 0)
    .attr("x", 9)
    .attr("dy", ".35em")
    .attr('transform','rotate(90)')
    .style("text-anchor", "start");

}
init()

</script>
</body>
</html>

